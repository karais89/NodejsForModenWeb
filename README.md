# 모던 웹을 위한 Node.js 프로그래밍 3판

## Chpater 1. Nodejs 개요

스레드

장점
- 사용자에 대한 응답성을 향상시켜야 할 때
- 동시에 작업을 완료시켜야 할 때

사용해야 하는 경우
- 네트워크 웹 서버 또는 데이터베이스 통신
- 시간이 오래 걸리는 작업

단점
- 많은 스레드 코드 실행을 제어하면 복잡해지고 버그가 발생할 수 있음.
- 스레드를 삭제하려면 삭제할 때 발생할 수 있는 문제와 처리 방법을 알아야 함.

Nodejs는 스레드의 단점을 해결하고자 내부적으로는(개발자가 몰라도 되는 부분) 스레드를 사용하고 외부적으로는 스레드를 사용하지 않는 방식으로 개발되었습니다.

### 1.1 Node.js 배경사

Nodejs는 서버 환경에서 동작하는 자바스크립트.

v8엔진 -> 빠른 속도.

이벤트 기반 비동기 방식 네트워크 입출력.

### 1.2 이벤트 기반 비동기 방식

대규모 네트워크 앱 개발에 적합함.

### 1.3 Node.js의 장단점

장점
- 이벤트 기반 비동기 방식을 사용하므로 대규모 네트워크 앱을 개발하기에 적합하다.
- 자바스크립트를 사용한다. (어떤 웹 개발자도 자바스크립트를 사용하므로 쉽게 접근이 가능하다)
- 구글이 만든 자바스크립트 엔진을 사용한다.(v8엔진) - 구글이 무너지지 않는 한 계속 빨라진다.
- c++로 개발된 v8 엔진으로 개발되어, c++을 사용해 기능을 확장할 수 있습니다.

단점
- 앱 실행에 문제가 발생하는 순간 앱 전체가 영향을 받는다.
- 자바스크립트를 사용하는게 단점일 수도 있다. (아무리 빨라도 c++로 개발된 서버보다는 느리다)

### 1.4 Node.js의 활용

- 이베이 : Node.js를 사용해 웹 api를 배포.
- 링크드인 : 자사의 모든 서버를 Node.js를 사용해 구성.
- 야머 : 프락시 서버를 Node.js로 개발.
- 페이팔
- 트위터
- 많은 스타트업
- GitHub에서 만든 atom 에디터도 Node.js로 만듬

## Chpater 2. Node.js 개발 환경 구축

꼭 알아둘 개념

| 개념| 설명 |
|----|------|
| LTS 버전 | Long Time Support의 약자로 30개월의 장기적인 지원을 약속받은 버전이라는 의미입니다. |
| Current 버전 | 어떠한 변화가 일어나고 있는 상태의 버전입니다. 조금은 안정적이지 않습니다. |
| REFL | Read Eval Print Loop이라고 부르며 한 줄씩 코드를 입력해 실행해볼 수 있는 공간입니다. |
| node 파일이름 | 파일 형태의 Node.js 앱을 실행하는 기본 명령입니다. |

### 2.1 LTS 버전과 Current 버전

현재 Node.js의 웹사이트([https://nodejs.org/](https://nodejs.org/))에 들어가면 6.x, 7.x를 다운로드할 수 있게 되어 있습니다.

현재 기준으로 버전을 다음과 같이 구분합니다.
- 6.x : LTS
- 7.x : Current

### 2.1.1 Current 버전

어떠한 변화가 일어나고 있는 상태의 버전 조금은 안정적이지 않을 수 있다.

Node.js는 6개월 단위로 버전 숫자를 하나 올립니다. 따라서 6개월 마다 새로운 current 버전이 나옵니다.

### 2.1.2 LTS 버전

짝수 버전을 가진 Current 버전은 6개월이 지나면 LTS 버전으로 바뀜.

LTS는 30개월의 장기적인 지원을 약속받은 버전. LTS 버전은 숫자가 오른다고 해도 호환성을 깨뜨리는 변경 사항이 추가되지 않는다.

따라서 실무에서는 LTS 버전을 사용하자.

### 2.5 첫 번째 Node.js 애플리케이션

## Chapter3. Node.js의 전역 객체

| 개념 | 설명 |
|-----|-------|
| 전역 변수/객체 | 프로그램 전체에 사용할 수 있는 변수와 객체를 의미합니다. |
| process 객체 | 프로그램과 관련된 정보를 나타내는 객채며, 웹 브라우저에서 작동하는 자바스크립트에 존재하지 않는 Node.js만이 가진 객체입니다. |
| 모듈 | 모듈은 기능을 쉽게 사용하고자 메서드와 속성을 미리 정의해 모아 놓은 것입니다. |
| exports 객체 | 모듈을 생성할 때 사용합니다. |

### 3.1 전역 변수

웹 브라우저에서 동작하는 자바스크립트 최상위 객체는 window 객체입니다.

하지만 Node.js는 웹 브라우저에서 동작하는 것이 아니므로 window 객체가 없습니다.

대신 전역변수와 전역함수를 가지고 있습니다.

[문자열 자료형의 전역 변수]

| 변수 이름 | 설명 |
|-----|-------|
| __filename | 현재 실행 중인 코드의 파일 경로를 나타냅니다. |
| __dirname | 현재 실행 중인 코드의 폴더 경로를 나타냅니다. |

[전역객체]

| 객체 이름 | 설명 |
|-----|-------|
| console | 콘솔 화면과 관련된 기능을 다루는 객체입니다. |
| exports | 모듈과 관련된 기능을 다루는 객체입니다. |
| process | 프로그램과 관련된 기능을 다루는 객체입니다. |

### 3.2 console 객체

콘솔 화면과 관련된 기능을 다루는 객체

| 메서드 이름 | 설명 |
|-----|-------|
| log() | 출력합니다. |
| time() | 시간 측정을 시작합니다. |
| timeEnd() | 시간 측정을 종료합니다. |

### 3.3 process 객체

프로그램과 관련된 정보를 나나내는 객체.

웹 브라우저에서 작동하는 자바스크립트에 존재하지 않는 Node.js만이 가진 객체입니다.

[속성]

| 속성 이름 | 설명 |
|----------|------|
| argv | 실행 매개변수를 나타냅니다. |
| env | 컴퓨터 환경과 관련된 정보를 나타냅니다. |
| version | Node.js 버전을 나타냅니다. |
| versions | Node.js와 종송된 프로그램 버전을 나타냅니다. |
| arch | 프로세서와 아키텍쳐를 나타냅니다. |
| platform | 플랫폼을 나타냅니다. |

[메서드]

|메서드 이름 | 설명 |
|-----------|------|
| exit([exitCode = 0]) | 프로그램을 종료합니다. |
| memoryUsage() | 메모리 사용 정보 객체를 리턴합니다. |
| uptime() | 현재 프로그램이 실행된 시간을 리턴합니다. |

